<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenic Block Grid</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
        }
        h1 {
            margin-bottom: 20px;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 0;
            width: 100%;
            max-width: 1600px;
            aspect-ratio: 8 / 3;
            background: #000;
        }
        .block {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: relative;
        }
        .block svg {
            width: 100%;
            height: 100%;
            display: block;
            transform: scale(1.01);
        }
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        button {
            background: #0f4c75;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background: #1b6ca8;
        }
        .debug-info {
            position: absolute;
            top: 2px;
            left: 2px;
            background: rgba(0,0,0,0.7);
            color: #fff;
            font-size: 10px;
            padding: 2px 4px;
            border-radius: 2px;
            pointer-events: none;
            z-index: 10;
            display: none;
        }
        .show-labels .debug-info {
            display: block;
        }
    </style>
</head>
<body>
    <h1>Scenic Block Grid Layout</h1>

    <div class="controls">
        <button onclick="playAll()">Play All</button>
        <button onclick="pauseAll()">Pause All</button>
        <button onclick="restartAll()">Restart All</button>
        <button onclick="toggleLabels()">Toggle Labels</button>
    </div>

    <div class="grid-container" id="grid"></div>

    <script>
        /*
        Mapping from the Scenic screenshot:
        - Block A = Teal/blue concentric arcs (bottom-left origin)
        - Block B = Radial sunburst yellow/red/blue (bottom-left origin)
        - Block C = Mixed quadrants with diagonal stripe
        - Block D = Similar to C, different colors
        - Block E = Large teal arch with blue
        - Block F = Red circles, complex geometric

        Looking at the screenshot (8 cols x 3 rows):
        The image shows a pattern where blocks are arranged with various rotations/flips
        */

        const gridLayout = [
            // Row 1 (top) - left to right: A B C D E F then continues
            { block: 'A', rotate: 0, flipH: false, flipV: false },      // (1,1)
            { block: 'B', rotate: 0, flipH: false, flipV: false },      // (2,1)
            { block: 'C', rotate: 0, flipH: false, flipV: false },      // (3,1)
            { block: 'D', rotate: 0, flipH: false, flipV: true },       // (4,1)
            { block: 'E', rotate: 0, flipH: false, flipV: true },       // (5,1)
            { block: 'F', rotate: 0, flipH: false, flipV: true },       // (6,1)
            { block: 'A', rotate: 0, flipH: false, flipV: false },      // (7,1)
            { block: 'B', rotate: 0, flipH: false, flipV: false },      // (8,1)

            // Row 2 (middle) - left to right
            { block: 'D', rotate: 0, flipH: false, flipV: false },      // (1,2)
            { block: 'E', rotate: 0, flipH: false, flipV: false },      // (2,2)
            { block: 'F', rotate: 0, flipH: false, flipV: false },      // (3,2)
            { block: 'A', rotate: 0, flipH: false, flipV: true },       // (4,2)
            { block: 'B', rotate: 0, flipH: false, flipV: true },       // (5,2)
            { block: 'C', rotate: 0, flipH: false, flipV: true },       // (6,2)
            { block: 'D', rotate: 0, flipH: false, flipV: false },      // (7,2)
            { block: 'E', rotate: 0, flipH: false, flipV: false },      // (8,2)

            // Row 3 (bottom) - left to right
            { block: 'A', rotate: 0, flipH: false, flipV: true },       // (1,3)
            { block: 'B', rotate: 0, flipH: false, flipV: true },       // (2,3)
            { block: 'C', rotate: 0, flipH: false, flipV: true },       // (3,3)
            { block: 'D', rotate: 0, flipH: false, flipV: false },      // (4,3)
            { block: 'E', rotate: 0, flipH: false, flipV: false },      // (5,3)
            { block: 'F', rotate: 0, flipH: false, flipV: false },      // (6,3)
            { block: 'A', rotate: 0, flipH: false, flipV: true },       // (7,3)
            { block: 'B', rotate: 0, flipH: false, flipV: true },       // (8,3)
        ];

        const blockFiles = {
            'A': 'Block A_opt.json',
            'B': 'Block B_opt.json',
            'C': 'Block C_opt.json',
            'D': 'Block D_opt.json',
            'E': 'Block E_opt.json',
            'F': 'Block F_opt.json'
        };

        const grid = document.getElementById('grid');
        const animations = [];

        gridLayout.forEach((cell, index) => {
            const blockDiv = document.createElement('div');
            blockDiv.className = 'block';
            blockDiv.id = `block-${index}`;

            // Debug label
            const label = document.createElement('div');
            label.className = 'debug-info';
            let transformDesc = cell.block;
            if (cell.rotate) transformDesc += ` R${cell.rotate}`;
            if (cell.flipH) transformDesc += ' FH';
            if (cell.flipV) transformDesc += ' FV';
            label.textContent = transformDesc;
            blockDiv.appendChild(label);

            // Build transform string
            let transform = '';
            if (cell.flipH) transform += 'scaleX(-1) ';
            if (cell.flipV) transform += 'scaleY(-1) ';
            if (cell.rotate) transform += `rotate(${cell.rotate}deg)`;

            if (transform) {
                blockDiv.style.transform = transform.trim();
            }

            grid.appendChild(blockDiv);

            const anim = lottie.loadAnimation({
                container: blockDiv,
                renderer: 'svg',
                loop: false,
                autoplay: true,
                path: `JSON Files/${blockFiles[cell.block]}`
            });

            // Ping-pong: reverse direction when animation completes
            let playingForward = true;
            anim.addEventListener('complete', () => {
                playingForward = !playingForward;
                anim.setDirection(playingForward ? 1 : -1);
                anim.play();
            });

            animations.push(anim);
        });

        function playAll() {
            animations.forEach(a => a.play());
        }

        function pauseAll() {
            animations.forEach(a => a.pause());
        }

        function restartAll() {
            animations.forEach(a => a.goToAndPlay(0, true));
        }

        function toggleLabels() {
            grid.classList.toggle('show-labels');
        }
    </script>
</body>
</html>
